<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>INTUITY â€“ Speaking Map Â· 3 Levels</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --accent: #C9A961;
      --accent-soft: rgba(201, 169, 97, 0.32);
      --accent-bg: rgba(201, 169, 97, 0.2);
    }

    body {
      font-family: 'DM Sans', 'Inter', sans-serif;
      background: radial-gradient(circle at top, #1a1a1a 0, #050505 45%, #000 100%);
      color: #e5e5e7;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.75rem;
      overflow-x: hidden;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at 20% 10%, rgba(201, 169, 97, 0.12) 0%, transparent 55%),
        radial-gradient(circle at 80% 90%, rgba(201, 169, 97, 0.06) 0%, transparent 45%);
      pointer-events: none;
      z-index: 0;
    }

    .app-shell {
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 430px; /* phone size */
      transition: transform 0.25s ease;
    }

    /* change accent by level */
    .app-shell[data-level="b1"] { --accent:#C9A961; --accent-soft:rgba(201,169,97,0.32); --accent-bg:rgba(201,169,97,0.2);}
    .app-shell[data-level="b2"] { --accent:#22c1c3; --accent-soft:rgba(34,193,195,0.32); --accent-bg:rgba(34,193,195,0.18);}
    .app-shell[data-level="c2"] { --accent:#a78bfa; --accent-soft:rgba(167,139,250,0.4); --accent-bg:rgba(167,139,250,0.18);}

    /* HEADER */
    .header {
      text-align: center;
      margin-bottom: 0.75rem;
    }

    .brand-logo {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.4rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--accent) 0%, rgba(255,255,255,0.85) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -0.04em;
      text-transform: uppercase;
      margin-bottom: 0.1rem;
    }

    .brand-subtitle {
      font-size: 0.7rem;
      color: #8e8e93;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    /* MAIN CARD */
    .card {
      background: rgba(20, 20, 22, 0.9);
      backdrop-filter: blur(30px) saturate(160%);
      -webkit-backdrop-filter: blur(30px) saturate(160%);
      border-radius: 1.25rem;
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow:
        0 20px 40px rgba(0, 0, 0, 0.9),
        inset 0 1px 0 rgba(255, 255, 255, 0.04);
      padding: 1rem 0.9rem 0.85rem;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    /* TOP BAR */
    .card-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.7rem;
      color: #a1a1aa;
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      padding-bottom: 0.45rem;
    }

    .pill {
      padding: 0.22rem 0.55rem;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.06);
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
    }

    .pill-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #22c55e;
      box-shadow: 0 0 10px rgba(34, 197, 94, 0.7);
    }

    .step-label {
      font-size: 0.6rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #71717a;
    }

    .step-value {
      font-size: 0.75rem;
      color: #e5e5e7;
    }

    /* LEVEL TOGGLE */
    .level-toggle {
      display: inline-flex;
      background: rgba(0,0,0,0.5);
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.08);
      overflow: hidden;
    }
    .level-btn {
      border: none;
      background: transparent;
      color: #9ca3af;
      font-size: 0.6rem;
      padding: 0.25rem 0.6rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      cursor: pointer;
      transition: all 0.2s;
    }
    .level-btn.active {
      background: var(--accent-bg);
      color: #f9fafb;
    }

    /* QUESTION NAV STRIP */
    .q-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 0.2rem;
    }

    .q-counter {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: #9ca3af;
    }

    .nav-dots {
      display: flex;
      gap: 0.35rem;
      justify-content: center;
      flex: 1;
    }

    .nav-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.18);
      border: 1px solid rgba(255, 255, 255, 0.12);
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .nav-dot.active {
      background: var(--accent);
      box-shadow: 0 0 10px var(--accent-soft);
      transform: scale(1.25);
    }

    .nav-dot:hover:not(.active) {
      background: var(--accent-soft);
      transform: scale(1.1);
    }

    /* QUESTION + ANSWER AREA */
    .qa-wrap {
      margin-top: 0.3rem;
      padding: 0.75rem 0.7rem;
      border-radius: 0.9rem;
      background:
        radial-gradient(circle at top left, var(--accent-bg), transparent 55%),
        rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.06);
      min-height: 9.5rem;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      gap: 0.6rem;
      transition: transform 0.15s ease;
    }

    .question {
      font-size: 0.75rem;
      color: #9ca3af;
      line-height: 1.4;
    }

    .answer-main {
      margin-top: 0.25rem;
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.25rem;
      font-weight: 800;
      line-height: 1.2;
      color: #fef3c7;
      letter-spacing: -0.02em;
      text-shadow: 0 2px 16px rgba(0, 0, 0, 0.8);
    }

    .answer-main .accent {
      color: var(--accent);
    }

    .support-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      margin-top: 0.3rem;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      padding: 0.25rem 0.55rem;
      border-radius: 999px;
      font-size: 0.7rem;
      background: rgba(15, 15, 16, 0.9);
      border: 1px solid var(--accent-soft);
      color: #e5e7eb;
    }

    .chip-emoji {
      font-size: 0.8rem;
    }

    /* HINT STRIP */
    .hint {
      margin-top: 0.1rem;
      font-size: 0.7rem;
      color: #9ca3af;
      display: flex;
      align-items: center;
      gap: 0.35rem;
    }

    .hint-key {
      width: 14px;
      height: 14px;
      border-radius: 4px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.55rem;
      color: #e5e7eb;
    }

    /* BOTTOM NAV BUTTONS */
    .bottom-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 0.15rem;
      gap: 0.4rem;
    }

    .btn {
      flex: 1;
      min-height: 2.1rem;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(0, 0, 0, 0.7);
      color: #e5e5e7;
      font-size: 0.75rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.35rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent) 0%, #fef9c3 100%);
      color: #111827;
      border-color: var(--accent);
      box-shadow: 0 3px 10px var(--accent-soft);
    }

    .btn:active {
      transform: translateY(1px);
      box-shadow: none;
    }

    .btn-disabled {
      opacity: 0.25;
      cursor: not-allowed;
      box-shadow: none;
    }

    .btn-icon {
      font-size: 0.9rem;
    }

    .btn-small {
      max-width: 3.2rem;
      flex: 0 0 auto;
    }

    @media (max-height: 700px) {
      .qa-wrap { min-height: 0; }
      .answer-main { font-size: 1.1rem; }
    }

    /* SCALE UP FOR PC + PROJECTOR */
    @media (min-width: 900px) {
      .app-shell {
        transform: scale(2.2);
        transform-origin: top center;
        margin-top: 3rem;
      }

      body {
        justify-content: center;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
  <div class="app-shell" data-level="b1" id="appShell">
    <header class="header">
      <div class="brand-logo">INTUITY</div>
      <div class="brand-subtitle" id="subtitle">Speaking Map Â· B1</div>
    </header>

    <main class="card">
      <div class="card-top">
        <div class="pill">
          <span class="pill-dot"></span>
          <span style="font-size:0.7rem; text-transform:uppercase; letter-spacing:0.08em;">Tap Â· Read Â· Speak</span>
        </div>

        <div class="level-toggle">
          <button class="level-btn active" data-level="b1">B1</button>
          <button class="level-btn" data-level="b2">B2</button>
          <button class="level-btn" data-level="c2">C2</button>
        </div>

        <div>
          <div class="step-label">Focus</div>
          <div class="step-value" id="topicLabel">Planet</div>
        </div>
      </div>

      <div class="q-nav">
        <div class="q-counter" id="qCounter">Question 1 / 10</div>
        <div class="nav-dots" id="navDots"></div>
        <div style="width:40px; text-align:right; font-size:0.7rem; color:#9ca3af;" id="shortTag">Easy</div>
      </div>

      <section class="qa-wrap" id="qaWrap">
        <div>
          <div class="question" id="questionText"></div>
          <div class="answer-main" id="answerMain"></div>
        </div>
        <div>
          <div class="support-row" id="supportRow"></div>
        </div>
      </section>

      <div class="hint" id="hintText">
        <div class="hint-key">â–¶</div>
        <span>Say the yellow words. Then point to each bubble.</span>
      </div>

      <div class="bottom-nav">
        <button class="btn btn-small" id="prevBtn">
          <span class="btn-icon">â†</span>
          <span style="font-size:0.65rem;">Back</span>
        </button>
        <button class="btn" id="repeatBtn">
          <span class="btn-icon">ğŸ”</span>
          <span>Again</span>
        </button>
        <button class="btn btn-primary btn-small" id="nextBtn">
          <span>Next</span>
          <span class="btn-icon">â†’</span>
        </button>
      </div>
    </main>
  </div>

  <script>
    const decks = {
      b1: [
        {
          topic: 'Planet',
          shortTag: 'Easy',
          question: 'In what ways are human activities harming the planet?',
          answer: 'We <span class="accent">cut trees</span>, we <span class="accent">dump trash</span>, we run <span class="accent">dirty factories</span>.',
          support: [
            { icon: 'ğŸŒ²', text: 'Cutting trees' },
            { icon: 'ğŸ—‘ï¸', text: 'Too much waste' },
            { icon: 'ğŸ­', text: 'Dirty industry' }
          ]
        },
        {
          topic: 'Cities',
          shortTag: 'People',
          question: 'Why do many people move to big cities?',
          answer: 'They want <span class="accent">work</span>, more <span class="accent">money</span> and many <span class="accent">chances</span>.',
          support: [
            { icon: 'ğŸ’¼', text: 'Jobs' },
            { icon: 'ğŸ’¶', text: 'Money' },
            { icon: 'ğŸš‡', text: 'Transport' }
          ]
        },
        {
          topic: 'Technology',
          shortTag: 'Screen',
          question: 'How are phones changing our daily life?',
          answer: 'We <span class="accent">talk</span>, we <span class="accent">work</span>, we even <span class="accent">rest</span> with our phones.',
          support: [
            { icon: 'ğŸ“±', text: 'Always online' },
            { icon: 'ğŸ’¬', text: 'Quick chat' },
            { icon: 'ğŸ˜´', text: 'Hard to switch off' }
          ]
        },
        {
          topic: 'Work',
          shortTag: 'Jobs',
          question: 'Why is workâ€“life balance hard today?',
          answer: 'Work <span class="accent">follows us home</span>, time <span class="accent">feels short</span>, rest is <span class="accent">pushed away</span>.',
          support: [
            { icon: 'âŒš', text: 'Long hours' },
            { icon: 'ğŸ ', text: 'Work at home' },
            { icon: 'ğŸ§ ', text: 'Tired mind' }
          ]
        },
        {
          topic: 'Culture',
          shortTag: 'Change',
          question: 'How does globalisation change local culture?',
          answer: '<span class="accent">Old ways fade</span>, <span class="accent">new trends enter</span>, and many lives <span class="accent">mix together</span>.',
          support: [
            { icon: 'ğŸŒ', text: 'Same brands' },
            { icon: 'ğŸµ', text: 'New music' },
            { icon: 'ğŸ”', text: 'Fast food' }
          ]
        },
        {
          topic: 'Education',
          shortTag: 'School',
          question: 'What makes a good teacher?',
          answer: 'They <span class="accent">care</span>, they <span class="accent">explain simply</span>, they help you <span class="accent">try again</span>.',
          support: [
            { icon: 'â¤ï¸', text: 'Kind' },
            { icon: 'ğŸ§©', text: 'Clear' },
            { icon: 'ğŸ”', text: 'Patient' }
          ]
        },
        {
          topic: 'Health',
          shortTag: 'Body',
          question: 'Why do many people feel stressed?',
          answer: 'We have <span class="accent">too many tasks</span>, <span class="accent">too much news</span> and very <span class="accent">little calm</span>.',
          support: [
            { icon: 'ğŸ“‚', text: 'Big workload' },
            { icon: 'ğŸ“º', text: 'Bad news' },
            { icon: 'ğŸ§˜', text: 'No quiet time' }
          ]
        },
        {
          topic: 'Money',
          shortTag: 'Life',
          question: 'How does money shape our choices?',
          answer: 'Money can <span class="accent">open doors</span>, but it can also <span class="accent">close hearts</span>.',
          support: [
            { icon: 'ğŸšª', text: 'More options' },
            { icon: 'ğŸ¤', text: 'Power' },
            { icon: 'ğŸ’”', text: 'Jealousy' }
          ]
        },
        {
          topic: 'Travel',
          shortTag: 'World',
          question: 'Why do people like travelling abroad?',
          answer: 'They want to <span class="accent">see new places</span>, <span class="accent">taste new food</span> and <span class="accent">meet new people</span>.',
          support: [
            { icon: 'âœˆï¸', text: 'New views' },
            { icon: 'ğŸ²', text: 'New food' },
            { icon: 'ğŸ¤', text: 'New friends' }
          ]
        },
        {
          topic: 'Future',
          shortTag: 'Hope',
          question: 'What can young people do to improve the future?',
          answer: 'They can <span class="accent">learn</span>, <span class="accent">speak up</span> and <span class="accent">help others</span> now.',
          support: [
            { icon: 'ğŸ“š', text: 'Keep learning' },
            { icon: 'ğŸ“¢', text: 'Use their voice' },
            { icon: 'ğŸ¤²', text: 'Support others' }
          ]
        }
      ],

      /* B2 â€“ fuller sentences, a bit more abstract */
      b2: [
        {
          topic: 'Planet',
          shortTag: 'B2',
          question: 'In what ways are human activities harming the planet?',
          answer: 'We <span class="accent">clear huge areas of forest</span>, create <span class="accent">mountains of rubbish</span> and keep <span class="accent">polluting factories</span> running day and night.',
          support: [
            { icon: 'ğŸŒ²', text: 'Deforestation' },
            { icon: 'ğŸ—‘ï¸', text: 'Mass waste' },
            { icon: 'ğŸ­', text: 'Industrial pollution' }
          ]
        },
        {
          topic: 'Cities',
          shortTag: 'B2',
          question: 'Why do many people move to big cities?',
          answer: 'They look for <span class="accent">better job prospects</span>, <span class="accent">higher salaries</span> and a wider range of <span class="accent">services and experiences</span>.',
          support: [
            { icon: 'ğŸ’¼', text: 'Career paths' },
            { icon: 'ğŸ¢', text: 'Busy business centres' },
            { icon: 'ğŸ­', text: 'Culture & nightlife' }
          ]
        },
        {
          topic: 'Technology',
          shortTag: 'B2',
          question: 'How are phones changing our daily life?',
          answer: 'Smartphones let us <span class="accent">stay connected</span>, <span class="accent">work on the move</span> and <span class="accent">fill every quiet moment</span> with a screen.',
          support: [
            { icon: 'ğŸ“±', text: 'Constant connection' },
            { icon: 'ğŸ“§', text: 'Work emails' },
            { icon: 'â°', text: 'No downtime' }
          ]
        },
        {
          topic: 'Work',
          shortTag: 'B2',
          question: 'Why is workâ€“life balance hard today?',
          answer: 'Modern jobs often demand <span class="accent">long hours</span>, <span class="accent">high targets</span> and <span class="accent">constant availability</span>.',
          support: [
            { icon: 'âŒš', text: 'Overtime' },
            { icon: 'ğŸ“²', text: 'Always reachable' },
            { icon: 'ğŸ˜“', text: 'Burnout risk' }
          ]
        },
        {
          topic: 'Culture',
          shortTag: 'B2',
          question: 'How does globalisation change local culture?',
          answer: 'Global brands and media can <span class="accent">dilute traditional customs</span>, but they also <span class="accent">bring new ideas</span> and <span class="accent">mix cultures</span>.',
          support: [
            { icon: 'ğŸŒ', text: 'Shared trends' },
            { icon: 'ğŸ“º', text: 'Global media' },
            { icon: 'ğŸ¤', text: 'Cultural mix' }
          ]
        },
        {
          topic: 'Education',
          shortTag: 'B2',
          question: 'What makes a good teacher?',
          answer: 'A good teacher <span class="accent">connects with students</span>, <span class="accent">explains clearly</span> and <span class="accent">pushes them just enough</span>.',
          support: [
            { icon: 'ğŸ§ ', text: 'Understands learners' },
            { icon: 'ğŸ§©', text: 'Makes ideas simple' },
            { icon: 'ğŸš€', text: 'Encourages progress' }
          ]
        },
        {
          topic: 'Health',
          shortTag: 'B2',
          question: 'Why do many people feel stressed?',
          answer: 'We are under <span class="accent">constant pressure</span> from work, money and social media, and we rarely <span class="accent">switch off</span>.',
          support: [
            { icon: 'ğŸ“‚', text: 'Heavy workload' },
            { icon: 'ğŸ’¸', text: 'Money worries' },
            { icon: 'ğŸ“±', text: 'Online pressure' }
          ]
        },
        {
          topic: 'Money',
          shortTag: 'B2',
          question: 'How does money shape our choices?',
          answer: 'Money can <span class="accent">limit our options</span> or <span class="accent">open new doors</span>, and it often <span class="accent">influences our priorities</span> more than we realise.',
          support: [
            { icon: 'ğŸ“Š', text: 'Budget limits' },
            { icon: 'ğŸ¯', text: 'Life goals' },
            { icon: 'âš–ï¸', text: 'Trade-offs' }
          ]
        },
        {
          topic: 'Travel',
          shortTag: 'B2',
          question: 'Why do people like travelling abroad?',
          answer: 'Travel lets people <span class="accent">escape routine</span>, <span class="accent">discover new cultures</span> and <span class="accent">see themselves differently</span>.',
          support: [
            { icon: 'âœˆï¸', text: 'Break from routine' },
            { icon: 'ğŸ™ï¸', text: 'New cities' },
            { icon: 'ğŸ§­', text: 'Fresh perspective' }
          ]
        },
        {
          topic: 'Future',
          shortTag: 'B2',
          question: 'What can young people do to improve the future?',
          answer: 'They can <span class="accent">get informed</span>, <span class="accent">take part in community projects</span> and <span class="accent">demand change</span> from leaders.',
          support: [
            { icon: 'ğŸ“š', text: 'Learn & question' },
            { icon: 'ğŸ¤', text: 'Volunteer' },
            { icon: 'ğŸ“¢', text: 'Speak out' }
          ]
        }
      ],

      /* C2 â€“ more â€œquality UK pressâ€ flavour */
      c2: [
        {
          topic: 'Planet',
          shortTag: 'C2',
          question: 'In what ways are human activities harming the planet?',
          answer: 'Relentless <span class="accent">deforestation</span>, ever-growing <span class="accent">piles of waste</span> and <span class="accent">energy-hungry industry</span> are steadily pushing the planet to its limits.',
          support: [
            { icon: 'ğŸª“', text: 'Forests stripped away' },
            { icon: 'ğŸš¯', text: 'Throw-away culture' },
            { icon: 'ğŸŒ«ï¸', text: 'Carbon-heavy production' }
          ]
        },
        {
          topic: 'Cities',
          shortTag: 'C2',
          question: 'Why do many people move to big cities?',
          answer: 'For many, cities promise <span class="accent">social mobility</span>, a sense of <span class="accent">possibility</span> and a lifestyle that feels <span class="accent">plugged into the modern world</span>.',
          support: [
            { icon: 'ğŸ™ï¸', text: 'Opportunity hubs' },
            { icon: 'ğŸš†', text: 'Fast connections' },
            { icon: 'ğŸ­', text: 'Dense culture' }
          ]
        },
        {
          topic: 'Technology',
          shortTag: 'C2',
          question: 'How are phones changing our daily life?',
          answer: 'Smartphones have turned quiet moments into <span class="accent">scrolling time</span>, made attention a <span class="accent">scarce resource</span> and blurred the line between <span class="accent">work and rest</span>.',
          support: [
            { icon: 'ğŸ“²', text: 'Endless feeds' },
            { icon: 'ğŸ§ ', text: 'Scattered focus' },
            { icon: 'ğŸŒ™', text: 'Late-night emails' }
          ]
        },
        {
          topic: 'Work',
          shortTag: 'C2',
          question: 'Why is workâ€“life balance hard today?',
          answer: 'In many jobs, the expectation is to be <span class="accent">always available</span>, which turns home into an <span class="accent">extension of the office</span> rather than a place to switch off.',
          support: [
            { icon: 'ğŸ“²', text: '24/7 inbox' },
            { icon: 'ğŸ ', text: 'Home as workplace' },
            { icon: 'ğŸ§¯', text: 'Chronic burnout' }
          ]
        },
        {
          topic: 'Culture',
          shortTag: 'C2',
          question: 'How does globalisation change local culture?',
          answer: 'Globalisation can replace <span class="accent">local colour</span> with a familiar mix of <span class="accent">chain stores and streaming platforms</span>, yet it also creates <span class="accent">new hybrid identities</span>.',
          support: [
            { icon: 'ğŸ›ï¸', text: 'Same high streets' },
            { icon: 'ğŸ§', text: 'Shared playlists' },
            { icon: 'ğŸŒ€', text: 'Blended traditions' }
          ]
        },
        {
          topic: 'Education',
          shortTag: 'C2',
          question: 'What makes a good teacher?',
          answer: 'A good teacher does more than deliver content: they <span class="accent">spark curiosity</span>, <span class="accent">challenge lazy thinking</span> and <span class="accent">stay human in the process</span>.',
          support: [
            { icon: 'ğŸ’¡', text: 'Ignites interest' },
            { icon: 'ğŸ”', text: 'Asks hard questions' },
            { icon: 'ğŸ¤', text: 'Builds trust' }
          ]
        },
        {
          topic: 'Health',
          shortTag: 'C2',
          question: 'Why do many people feel stressed?',
          answer: 'Many of us live in a loop of <span class="accent">endless notifications</span>, <span class="accent">fragile finances</span> and the quiet feeling that we are <span class="accent">always behind</span>.',
          support: [
            { icon: 'ğŸ“±', text: 'Notification overload' },
            { icon: 'ğŸ’·', text: 'Rising costs' },
            { icon: 'â³', text: 'Time pressure' }
          ]
        },
        {
          topic: 'Money',
          shortTag: 'C2',
          question: 'How does money shape our choices?',
          answer: 'Money quietly sets the <span class="accent">limits of what feels possible</span>, steering everything from the jobs we accept to the risks we feel able to take.',
          support: [
            { icon: 'ğŸ“‰', text: 'Hidden ceilings' },
            { icon: 'ğŸ§­', text: 'Paths we follow' },
            { icon: 'ğŸª™', text: 'Trade-offs we make' }
          ]
        },
        {
          topic: 'Travel',
          shortTag: 'C2',
          question: 'Why do people like travelling abroad?',
          answer: 'Travel offers the chance to <span class="accent">step outside our bubble</span>, see how <span class="accent">other societies organise life</span> and return home with a slightly <span class="accent">wider lens</span>.',
          support: [
            { icon: 'ğŸŒ', text: 'New worlds' },
            { icon: 'ğŸ§³', text: 'Different routines' },
            { icon: 'ğŸ”­', text: 'Wider outlook' }
          ]
        },
        {
          topic: 'Future',
          shortTag: 'C2',
          question: 'What can young people do to improve the future?',
          answer: 'Young people can <span class="accent">ask awkward questions</span>, <span class="accent">organise calmly but firmly</span> and <span class="accent">refuse to treat problems as â€œtoo bigâ€</span>.',
          support: [
            { icon: 'â“', text: 'Question the old story' },
            { icon: 'ğŸ§‘â€ğŸ¤â€ğŸ§‘', text: 'Act together' },
            { icon: 'ğŸŒ±', text: 'Small changes, often' }
          ]
        }
      ]
    };

    let currentLevel = 'b1';
    let currentIndex = 0;

    const appShell   = document.getElementById('appShell');
    const subtitle   = document.getElementById('subtitle');
    const qCounter   = document.getElementById('qCounter');
    const topicLabel = document.getElementById('topicLabel');
    const shortTag   = document.getElementById('shortTag');
    const questionText = document.getElementById('questionText');
    const answerMain = document.getElementById('answerMain');
    const supportRow = document.getElementById('supportRow');
    const navDots    = document.getElementById('navDots');
    const prevBtn    = document.getElementById('prevBtn');
    const nextBtn    = document.getElementById('nextBtn');
    const repeatBtn  = document.getElementById('repeatBtn');
    const qaWrap     = document.getElementById('qaWrap');
    const hintText   = document.getElementById('hintText');
    const levelButtons = document.querySelectorAll('.level-btn');

    const levelLabels = {
      b1: 'Speaking Map Â· B1',
      b2: 'Speaking Map Â· B2',
      c2: 'Speaking Map Â· C2'
    };

    const levelHints = {
      b1: 'Say the yellow words. Then point to each bubble.',
      b2: 'Use the yellow phrase to start your answer, then expand with the bubbles.',
      c2: 'Steal the yellow line as your headline, then weave in the bubbles naturally.'
    };

    function buildDots() {
      navDots.innerHTML = '';
      const deck = decks[currentLevel];
      deck.forEach((_, index) => {
        const dot = document.createElement('div');
        dot.className = 'nav-dot';
        dot.addEventListener('click', () => {
          currentIndex = index;
          render();
        });
        navDots.appendChild(dot);
      });
    }

    function render() {
      const deck = decks[currentLevel];
      const card = deck[currentIndex];

      qCounter.textContent = `Question ${currentIndex + 1} / ${deck.length}`;
      topicLabel.textContent = card.topic;
      shortTag.textContent = card.shortTag;
      questionText.textContent = card.question;
      answerMain.innerHTML = card.answer;
      hintText.querySelector('span').textContent = levelHints[currentLevel];

      supportRow.innerHTML = '';
      card.support.forEach(item => {
        const chip = document.createElement('div');
        chip.className = 'chip';
        chip.innerHTML = `<span class="chip-emoji">${item.icon}</span><span>${item.text}</span>`;
        supportRow.appendChild(chip);
      });

      const dots = navDots.querySelectorAll('.nav-dot');
      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentIndex);
      });

      prevBtn.classList.toggle('btn-disabled', currentIndex === 0);
      nextBtn.classList.toggle('btn-disabled', currentIndex === deck.length - 1);

      subtitle.textContent = levelLabels[currentLevel];
      appShell.setAttribute('data-level', currentLevel);
    }

    prevBtn.addEventListener('click', () => {
      if (currentIndex === 0) return;
      currentIndex -= 1;
      render();
    });

    nextBtn.addEventListener('click', () => {
      const deck = decks[currentLevel];
      if (currentIndex === deck.length - 1) return;
      currentIndex += 1;
      render();
    });

    repeatBtn.addEventListener('click', () => {
      qaWrap.style.transform = 'scale(0.97)';
      setTimeout(() => { qaWrap.style.transform = 'scale(1)'; }, 150);
    });

    levelButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const level = btn.getAttribute('data-level');
        if (level === currentLevel) return;
        currentLevel = level;
        currentIndex = 0;
        levelButtons.forEach(b => b.classList.toggle('active', b === btn));
        buildDots();
        render();
      });
    });

    buildDots();
    render();
  </script>
</body>
</html>

